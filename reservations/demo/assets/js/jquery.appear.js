(function(a){a.fn.appear=function(d,i){var c=a.extend({data:undefined,one:true,accX:0,accY:0},i);return this.each(function(){var b=a(this);b.appeared=false;if(d){var e=a(window),h=function(){if(b.is(":visible")){var f=e.scrollLeft(),j=e.scrollTop(),g=b.offset(),k=g.left;g=g.top;var l=c.accX,m=c.accY,o=b.height(),p=e.height(),q=b.width(),r=e.width();if(g+o+m>=j&&g<=j+p+m&&k+q+l>=f&&k<=f+r+l)b.appeared||b.trigger("appear",c.data);else b.appeared=false}else b.appeared=false},n=function(){b.appeared=
true;if(c.one){e.unbind("scroll",h);var f=a.inArray(h,a.fn.appear.checks);f>=0&&a.fn.appear.checks.splice(f,1)}d.apply(this,arguments)};if(c.one)b.one("appear",c.data,n);else b.bind("appear",c.data,n);e.scroll(h);a.fn.appear.checks.push(h);h()}else b.trigger("appear",c.data)})};a.extend(a.fn.appear,{checks:[],timeout:null,checkAll:function(){var d=a.fn.appear.checks.length;if(d>0)for(;d--;)a.fn.appear.checks[d]()},run:function(){a.fn.appear.timeout&&clearTimeout(a.fn.appear.timeout);a.fn.appear.timeout=
setTimeout(a.fn.appear.checkAll,20)}});a.each(["append","prepend","after","before","attr","removeAttr","addClass","removeClass","toggleClass","remove","css","show","hide"],function(d,i){var c=a.fn[i];if(c)a.fn[i]=function(){var b=c.apply(this,arguments);a.fn.appear.run();return b}})})(jQuery);