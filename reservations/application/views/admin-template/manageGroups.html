
<div class="animated fadeIn" ng-controller="GroupsController">
    <div class="row">
        <div class="col-lg-12">

            <div class="card">               
                <div ng-if="type != 'all_groups'" class="card-header">                   
                    <i class="fa fa-align-justify"></i> Manage Groups - {{heading}}
                </div>
                <div ng-if="type == 'all_groups'" class="card-header">                   
                    <i class="fa fa-align-justify"></i> Manage Both Private Transporation & Cabo Shuttle
                </div>
                <div class="card">
                    <div class="card-header">
                        <strong>Add / Edit Group</strong>
                    </div>
                    <form  method="post" id="formRow2"  name="groupForm" class="form-horizontal " ng-submit="addEditGroup(groupForm)" ng-validate="validationOptions">
                        <input type="hidden" name="id" ng-model="formData.id" />

                        <!-- NEW RANIT -->
                        <div class="" ng-if="type == 'all_groups'">
                            <div class="card-block">
                                <div class="form-group row">
                                    <label class="col-md-3 form-control-label" for="name">Select Transportation Type</label>
                                    <div class="col-md-9">                                        
                                        <select id="group_typ" name="group_typ"  ng-model="formData.group_typ" ng-change="getHotels( formData.group_typ )"  class="form-control" ng-if="btnName != 'Update'">
                                            <option value="">Select Type</option>
                                            <option value="private_transport">Private Transporation</option>
                                            <option value="cabo_shuttle">Cabo Shuttle</option>                                            
                                        </select>
                                    </div>
                                </div>

                                <div class="form-group row">
                                    <label class="col-md-3 form-control-label" for="name">Select Code</label>
                                    <div class="col-md-9">
                                        <input type="text" disabled id="name" name="name" ng-model="formData.name" ng-if="btnName == 'Update'"  class="form-control" placeholder="Enter Name">
                                        <select id="code" name="code"  ng-model="formData.name"  class="form-control" ng-if="btnName != 'Update'" placeholder="Enter Name">
                                            <option value="">Select Code</option>
                                            <option ng-repeat="item in codes" >{{item}}</option>
                                        </select>
                                    </div>
                                </div>

                                <div class="form-group row">
                                    <label class="col-md-3 form-control-label" for="hotels">Select Hotels</label>
                                    <div class="col-md-9">
                                        <select                                           
                                            name="hotels[]"
                                            chosen
                                            multiple
                                            allow-single-deselect="true"
                                            placeholder-text-multiple="'Select Hotel'"
                                            no-results-text="'No Hotels'"
                                            ng-model="formData.hotels"
                                            ng-options="hotel.id as hotel.name for hotel in hotels"
                                            style="width:100%;">
                                            <option value=""></option>
                                        </select>
                                    </div>    
                                </div>


                                <div ng-if="formData.group_typ == 'private_transport'" class="for_private_transport">
                                    <div class="form-group row">
                                        <label class="col-md-3 form-control-label" for="email">Cost - One Way <span>(1-5 pass.)</span></label>
                                        <div class="col-md-3">
                                            <input type="text" name="cost_one_way_1_5"  class="form-control"  placeholder="Enter Cost"  ng-model="formData.cost_one_way_1_5">
                                        </div>
                                        <label class="col-md-3 form-control-label" for="email">Cost - Round Trip <span>(1-5 pass.)</span></label>
                                        <div class="col-md-3">
                                            <input type="text" name="cost_round_trip_1_5_not_req"  class="form-control"  placeholder="Enter Cost p"  ng-model="formData.cost_round_trip_1_5">
                                        </div>
        
                                    </div>
                                    <div class="form-group row">
                                        <label class="col-md-3 form-control-label" for="email">Cost - One Way (6-10 pass.)</label>
                                        <div class="col-md-3">
                                            <input type="text" name="cost_one_way_6_10"  class="form-control"  placeholder="Enter Cost"  ng-model="formData.cost_one_way_6_10">
                                        </div>
                                        <label class="col-md-3 form-control-label" for="email">Cost - Round Trip (6-10 pass.)</label>
                                        <div class="col-md-3">
                                            <input type="text" name="cost_round_trip_6_10"  class="form-control"  placeholder="Enter Cost"  ng-model="formData.cost_round_trip_6_10">
                                        </div>
        
                                    </div>
                                    <div class="form-group row">
                                        <label class="col-md-3 form-control-label" for="email">Cost - One Way (11-15 pass.)</label>
                                        <div class="col-md-3">
                                            <input type="text" name="cost_one_way_11_15"  class="form-control"  placeholder="Enter Cost"  ng-model="formData.cost_one_way_11_15">
                                        </div>
                                        <label class="col-md-3 form-control-label" for="email">Cost - Round Trip (11-15 pass.)</label>
                                        <div class="col-md-3">
                                            <input type="text" name="cost_round_trip_11_15"  class="form-control"  placeholder="Enter Cost"  ng-model="formData.cost_round_trip_11_15">
                                        </div>
        
                                    </div>
                                </div>
                                <div ng-if="formData.group_typ == 'cabo_shuttle'" class="for_cabo_shuttle">
                                    <div class="form-group row">
                                        <label class="col-md-3 form-control-label" for="email">Cost - One Way </label>
                                        <div class="col-md-3">
                                            <input type="text" name="cost_one_way_1_5"  class="form-control"  placeholder="Enter Cost"  ng-model="formData.cost_one_way_1_5">
                                        </div>
                                        <label class="col-md-3 form-control-label" for="email">Cost - Round Trip </label>
                                        <div class="col-md-3">
                                            <input type="text" name="cost_round_trip_1_5_not_req"  class="form-control"  placeholder="Enter Cost"  ng-model="formData.cost_round_trip_1_5">
                                        </div>        
                                    </div>
                                </div>
                                
                               




                            </div>  <!-- card block END -->
                        </div>
                        <!-- NEW RANIT END -->

                        <div class="card-block" ng-if="type != 'all_groups'">

                            <div class="form-group row">
                                <label class="col-md-3 form-control-label" for="name">Select Code</label>
                                <div class="col-md-9">
                                    <input type="text" disabled id="name" name="name" ng-model="formData.name" ng-if="btnName == 'Update'"  class="form-control" placeholder="Enter Name">
                                    <select id="name" name="name"  ng-model="formData.name"  class="form-control" ng-if="btnName != 'Update'" placeholder="Enter Name">
                                        <option value="">Select Code</option>
                                        <option ng-repeat="item in codes" >{{item}}</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group row">
                                <label class="col-md-3 form-control-label" for="email">Cost - One Way <span ng-if="heading == 'Private Transporation'">(1-5 pass.)</span></label>
                                <div class="col-md-3">
                                    <input type="text" name="cost_one_way_1_5"  class="form-control"  placeholder="Enter Cost"  ng-model="formData.cost_one_way_1_5">
                                </div>
                                <label class="col-md-3 form-control-label" for="email">Cost - Round Trip <span ng-if="heading == 'Private Transporation'">(1-5 pass.)</span></label>
                                <div class="col-md-3">
                                    <input type="text" name="cost_round_trip_1_5"  class="form-control"  placeholder="Enter Cost"  ng-model="formData.cost_round_trip_1_5">
                                </div>

                            </div>
                            <div class="form-group row" ng-if="heading == 'Private Transporation'">
                                <label class="col-md-3 form-control-label" for="email">Cost - One Way (6-10 pass.)</label>
                                <div class="col-md-3">
                                    <input type="text" name="cost_one_way_6_10"  class="form-control"  placeholder="Enter Cost"  ng-model="formData.cost_one_way_6_10">
                                </div>
                                <label class="col-md-3 form-control-label" for="email">Cost - Round Trip (6-10 pass.)</label>
                                <div class="col-md-3">
                                    <input type="text" name="cost_round_trip_6_10"  class="form-control"  placeholder="Enter Cost"  ng-model="formData.cost_round_trip_6_10">
                                </div>

                            </div>
                            <div class="form-group row" ng-if="heading == 'Private Transporation'">
                                <label class="col-md-3 form-control-label" for="email">Cost - One Way (11-15 pass.)</label>
                                <div class="col-md-3">
                                    <input type="text" name="cost_one_way_11_15"  class="form-control"  placeholder="Enter Cost"  ng-model="formData.cost_one_way_11_15">
                                </div>
                                <label class="col-md-3 form-control-label" for="email">Cost - Round Trip (11-15 pass.)</label>
                                <div class="col-md-3">
                                    <input type="text" name="cost_round_trip_11_15"  class="form-control"  placeholder="Enter Cost"  ng-model="formData.cost_round_trip_11_15">
                                </div>

                            </div>
                            <div class="form-group row">
                                <label class="col-md-3 form-control-label" for="hotels">Select Hotels</label>
                                <div class="col-md-9">
                                    <select
                                        name="hotels[]"
                                        chosen
                                        multiple
                                        allow-single-deselect="true"
                                        placeholder-text-multiple="'Select Hotel'"
                                        no-results-text="'No Hotels'"
                                        ng-model="formData.hotels"
                                        ng-options="hotel.id as hotel.name for hotel in hotels"
                                        style="width:100%;">
                                        <option value=""></option>
                                    </select>
                                </div>

                            </div>



                        </div>
                        <div class="card-footer">
                            <button type="submit" class="btn btn-sm btn-primary" name="submitButton" ng-model="submitBtn"  ng-disabled="groupForm.$invalid"><i class="fa fa-dot-circle-o"></i>{{btnName}}</button>
                            <button class="btn btn-sm btn-primary" name="submitButton2" ng-show="cancelShow" ng-click="cancelUpdate()" type="button" ><i class="fa fa-dot-circle-o"></i>Cancel</button>
                        </div>
                    </form>
                </div>
                <table ng-init="init()"  st-table="groupsData" id="formRow" st-safe-src="groups"  class="table table-striped  table-bordered" ng-if="type != 'all_groups'">
                    <thead>
                        <tr>
                            <th row-select-all="groupsData"  selected="selected" ng-click="selectAll(groupsData)"></th>
                            <th>Code</th>
                            <th>Cost <span ng-if="heading == 'Private Transporation'">(1 to 5 Passengers)</span></th>
                            <th ng-if="heading == 'Private Transporation'">Cost (6 to 10 Passengers)</th>
                            <th ng-if="heading == 'Private Transporation'">Cost (11 to 15 Passengers)</th>
                            <th>Hotels</th>
<!--                            <th>Status</th>-->
                            <th>Action</th>
                        </tr>
                        <tr>
                            <th></th>
                            <th><input class="form-control" st-search="name"/></th>
                            <th></th>
                            <th></th>
                            <th></th>
<!--                            <th></th>-->
                            <th></th>
                        </tr>
                    </thead>
                    <tbody ng-show="!isLoading">
                        <tr ng-if="groups.length == 0"><td colspan="8">No record found.</td></tr>
                        <tr ng-repeat="row in groupsData track by $index" >
                            <td row-select="row" ng-click="select(row.id)"></td>
                            <td>{{row.name}}</td>
                            <td>One Way - {{row.cost_one_way_1_5}} <br/>Round Trip - {{row.cost_round_trip_1_5}}</td>
                            
                            <td ng-if="heading == 'Private Transporation'">One Way - {{row.cost_one_way_6_10}}<br/>Round Trip - {{row.cost_round_trip_6_10}}</td>
                            <td ng-if="heading == 'Private Transporation'">One Way - {{row.cost_one_way_11_15}}<br/>Round Trip - {{row.cost_round_trip_11_15}}</td>
                            <td>{{row.hotelNames}}</td>
<!--                            <td><select name="" ng-change="changeStatus('hotelgroups', 'status', row.status, row.id, '#formRow')" ng-model="row.status" ng-options="x as y for (x, y) in activeData">

                                </select></td>-->
                            <td><a href="javascript:void(0)" ng-click="editGroup(row)">Edit</a></td>
                        </tr>
                    </tbody>
                    <!--                    <tbody ng-show="isLoading">
                                            <tr>
                                                <td colspan="8" class="text-center">Loading ... </td>
                                            </tr>
                                        </tbody>-->
                    <tfoot>
                        <tr>
                            <td class="text-center" colspan="8">
                                <div class="row">
                                    <div class="col-lg-6" align="left"><button type="button" v="{{selected}}" ng-disabled="!(selected.length > 0)" ng-click="deleteGroup()">Delete</button></div>                                
                                    <div class="col-lg-6" align="right" st-pagination="" st-items-by-page="itemsPerPage"  st-displayed-pages="4"></div>
                                </div>
                            </td>
                        </tr>
                    </tfoot>
                </table>
            </div>
        </div>
        <!--/.col-->

        <!--/.col-->
    </div>
    <!--/.row-->

    <!--/.row-->
</div>


